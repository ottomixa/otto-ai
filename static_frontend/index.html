<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Interface - New Layout</title>
    <link rel="stylesheet" href="style.css">
    <!-- Consider adding a proper icon library like Font Awesome later -->
    <!-- For now, using text/unicode placeholders for icons -->
</head>
<body>
    <div class="app-layout">
        <!-- New Left Sidebar -->
        <aside class="left-sidebar" id="leftSidebar">
            <div class="sidebar-header">
                <h2 id="sidebarTitle" class="sidebar-title">Menu</h2>
                <button id="sidebarToggleBtn" class="sidebar-toggle-btn" aria-label="Toggle sidebar" title="Toggle Sidebar">
                    &#9776; <!-- Hamburger icon placeholder -->
                </button>
            </div>
            <nav class="sidebar-nav">
                <button id="newChatBtn" class="sidebar-button">
                    <span class="icon-placeholder">+</span> <span class="button-text">New Chat</span>
                </button>
                <button id="chatHistoryBtn" class="sidebar-button">
                    <span class="icon-placeholder">&#128193;</span> <span class="button-text">Chat History</span>
                </button>
                <button id="settingsBtn" class="sidebar-button">
                    <span class="icon-placeholder">&#9881;</span> <span class="button-text">Settings</span>
                </button>
            </nav>

            <!-- Configuration Area - Moved inside sidebar, initially hidden -->
            <div id="sidebarConfigArea" class="sidebar-config-area" style="display: none;">
                <div class="panel-header">
                    <h3>Configure Model & Provider</h3>
                </div>

                <!-- NEW: Engine Selection Section -->
                <section class="engine-selection-section">
                    <h4>Select Engine</h4>
                    <div class="engine-options">
                        <div class="engine-option">
                            <input type="radio" id="engineLocalLlama" name="engineSelection" value="local_llama">
                            <label for="engineLocalLlama">Local Llama</label>
                        </div>
                        <div class="engine-option">
                            <input type="radio" id="engineCloudA" name="engineSelection" value="cloud_provider_a">
                            <label for="engineCloudA">Cloud Provider Alpha</label>
                        </div>
                        <div class="engine-option">
                            <input type="radio" id="engineCloudB" name="engineSelection" value="cloud_provider_b">
                            <label for="engineCloudB">Cloud Provider Beta</label>
                        </div>
                    </div>
                </section>
                <!-- END NEW: Engine Selection Section -->

                <section class="model-selection-section" id="modelSelectionSection" style="display: none;">
                    <h4>Select AI Model <span id="modelSectionContext" class="model-section-context"></span></h4>
                    <input type="search" id="modelSearchInput" class="search-input" placeholder="Search models...">
                    <div id="modelList" class="model-list-container">
                        <!-- Model cards will be dynamically rendered here by JS -->
                    </div>
                </section>

                <section id="providerSelectionSection" class="provider-selection-section" style="display: none;">
                    <h4>Select Provider Tier for <span id="selectedModelNameProviderTitle"></span></h4>
                    <div id="providerList" class="provider-list-container">
                        <!-- Provider/Tier cards will be dynamically rendered here by JS -->
                    </div>
                </section>

                <div class="panel-actions">
                    <button id="applyConfigBtn" class="apply-button">Apply Configuration</button>
                </div>
            </div>
            <!-- End Configuration Area -->

        </aside>

        <!-- Main Chat Container -->
        <div class="chat-container" id="chatContainer">
            <header class="chat-header">
                <div class="header-info">
                    <h1>AI Chat</h1>
                    <span id="activeConfigDisplay" class="active-config-display"></span>
                </div>
            </header>

            <main class="chat-main">
                <div id="messageList" class="message-list">
                    <!-- Example Messages -->
                    <div class="message user-message"><p>Hello!</p><span class="timestamp">10:00 AM</span></div>
                    <div class="message ai-message"><p>Hi there! How can I help?</p><span class="timestamp">10:01 AM</span></div>
                </div>
                <div class="message-input-area">
                    <textarea id="messageInput" placeholder="Type your message here..."></textarea>
                    <button id="sendMessageBtn">Send</button>
                </div>
            </main>
        </div>

        <!-- Old Configuration Panel ASIDE element should be GONE from here -->
    </div>

    <script src="script.js"></script>
</body>
</html>
